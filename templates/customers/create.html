{% extends 'base.html' %}
{% load widget_tweaks %}
{% block title %}Thêm khách hàng - NavyBaby{% endblock %}
{% block navbar_icon %}users{% endblock %}
{% block navbar_title %}Khách hàng{% endblock %}
{% block content %}

<!-- Header -->
<div class="flex flex-col md:flex-row justify-between items-center mb-6">
  <div>
    <h2 class="text-2xl font-bold flex items-center text-blue-400">
      <i data-lucide="user-plus" class="w-6 h-6 mr-2"></i>Thêm khách hàng
    </h2>
    <p class="text-gray-400">Nhập thông tin khách hàng mới</p>
  </div>
  <a href="{% url 'customers:customer_list' %}" 
     class="px-3 py-2 rounded-md border text-sm transition bg-[#161616] text-gray-300 border-gray-800 hover:border-gray-700">
    <i data-lucide="arrow-left" class="inline w-4 h-4 mr-1"></i>Quay lại danh sách
  </a>
</div>

<div class="bg-[#121212] border border-gray-800 rounded-lg p-5">
  <form method="post" class="space-y-5">
    {% csrf_token %}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
      <div>
        <label class="block text-sm text-gray-400 mb-1.5">Mã KH (tùy chọn)</label>
        {{ form.code }}
        <p class="mt-1 text-xs text-gray-500">Để trống nếu muốn hệ thống tự sinh mã.</p>
      </div>
      <div>
        <label class="block text-sm text-gray-400 mb-1.5">Tên khách hàng</label>
        {{ form.name }}
      </div>
      <div>
        <label class="block text-sm text-gray-400 mb-1.5">Số điện thoại</label>
        {{ form.phone_number }}
      </div>

      <div>
        <label class="block text-sm text-gray-400 mb-1.5">Liên kết mạng xã hội</label>
        {{ form.social_link }}
      </div>
      <div>
        <label class="block text-sm text-gray-400 mb-1.5">Địa chỉ</label>
        {{ form.address|add_class:"h-20 resize-none" }}
      </div>

      <div class="md:col-span-2">
        <label class="block text-sm text-gray-400 mb-1.5">Ghi chú</label>
        {{ form.note|add_class:"h-20 resize-none" }}
      </div>

      <div class="md:col-span-2 flex items-center gap-2 pt-2">
        {{ form.is_affiliate }}
        <label class="text-sm text-gray-300">CTV</label>
      </div>
    </div>

    <div class="pt-3 flex justify-end gap-2">
      <a href="{% url 'customers:customer_list' %}" 
         class="px-4 py-2 rounded-md border text-sm bg-[#121212] text-gray-300 border-gray-800 hover:border-gray-700">
        Hủy
      </a>
      <button type="submit" 
              class="px-4 py-2 rounded-md border text-sm bg-blue-600 text-white border-blue-700 hover:bg-blue-500">
        Lưu
      </button>
    </div>
  </form>
</div>

{% endblock %}
{% block extra_js %}
<script>lucide.createIcons();</script>
{% endblock %}
